function gestionarXml(e){var t=e.responseXML,n=t.getElementsByTagName("title")[0].innerHTML;ponerDatosInputHtml1(n),textoSecreto1=t.getElementsByTagName("answer")[0].childNodes[0].nodeValue;var r=t.getElementsByTagName("title")[1].innerHTML;ponerDatosInputHtml2(r),textoSecreto2=t.getElementsByTagName("answer")[1].childNodes[0].nodeValue;var a=t.getElementsByTagName("title")[2].innerHTML,o=[],l=t.getElementById("jklm_007").getElementsByTagName("option").length;for(i=0;i<l;i++)o[i]=t.getElementById("jklm_007").getElementsByTagName("option")[i].innerHTML;ponerDatosSelectHtml1(a,o),respuestaSelect1=parseInt(t.getElementsByTagName("answer")[2].innerHTML);var m=t.getElementsByTagName("title")[3].innerHTML,s=[],l=t.getElementById("jklm_008").getElementsByTagName("option").length;for(i=0;i<l;i++)s[i]=t.getElementById("jklm_008").getElementsByTagName("option")[i].innerHTML;ponerDatosSelectHtml2(m,s),respuestaSelect2=parseInt(t.getElementsByTagName("answer")[2].innerHTML);var c=t.getElementsByTagName("title")[4].innerHTML,g=[],l=t.getElementById("jklm_009").getElementsByTagName("option").length;for(i=0;i<l;i++)g[i]=t.getElementById("jklm_009").getElementsByTagName("option")[i].innerHTML;ponerDatosMultiSelectHtml1(c,g),respuestaMultiSelect1=parseInt(t.getElementsByTagName("answer")[2].innerHTML);var d=t.getElementsByTagName("title")[5].innerHTML,u=[],l=t.getElementById("jklm_010").getElementsByTagName("option").length;for(i=0;i<l;i++)u[i]=t.getElementById("jklm_010").getElementsByTagName("option")[i].innerHTML;ponerDatosMultiSelectHtml2(d,u),respuestaMultiSelect2=parseInt(t.getElementsByTagName("answer")[2].innerHTML);var p=t.getElementsByTagName("title")[6].innerHTML,E=[],l=t.getElementById("jklm_005").getElementsByTagName("option").length;for(i=0;i<l;i++)E[i]=t.getElementById("jklm_005").getElementsByTagName("option")[i].innerHTML;ponerDatosCheckboxHtml1(p,E);var y=t.getElementById("jklm_005").getElementsByTagName("answer").length;for(i=0;i<y;i++)respuestasCheckbox1[i]=t.getElementById("jklm_005").getElementsByTagName("answer")[i].innerHTML;var T=t.getElementsByTagName("title")[7].innerHTML,B=[],l=t.getElementById("jklm_006").getElementsByTagName("option").length;for(i=0;i<l;i++)B[i]=t.getElementById("jklm_006").getElementsByTagName("option")[i].innerHTML;ponerDatosCheckboxHtml2(T,B);var y=t.getElementById("jklm_006").getElementsByTagName("answer").length;for(i=0;i<y;i++)respuestasCheckbox2[i]=t.getElementById("jklm_006").getElementsByTagName("answer")[i].innerHTML;var H=t.getElementsByTagName("title")[8].innerHTML,f=[],l=t.getElementById("jklm_001").getElementsByTagName("option").length;for(i=0;i<l;i++)f[i]=t.getElementById("jklm_001").getElementsByTagName("option")[i].innerHTML;ponerDatosRadioHtml1(H,f);var y=t.getElementById("jklm_001").getElementsByTagName("answer").length;for(i=0;i<y;i++)respuestasRadio1[i]=t.getElementById("jklm_001").getElementsByTagName("answer")[i].innerHTML;var h=t.getElementsByTagName("title")[9].innerHTML,I=[],l=t.getElementById("jklm_002").getElementsByTagName("option").length;for(i=0;i<l;i++)I[i]=t.getElementById("jklm_002").getElementsByTagName("option")[i].innerHTML;ponerDatosRadioHtml2(h,I);var y=t.getElementById("jklm_002").getElementsByTagName("answer").length;for(i=0;i<y;i++)respuestasRadio2[i]=t.getElementById("jklm_002").getElementsByTagName("answer")[i].innerHTML}function corregirTexto1(){var e=formElement.elements[0].value;e==textoSecreto1?(darRespuestaHtml("Pregunta 1: Correcta"),nota+=1):darRespuestaHtml("Pregunta 1: Incorrecta")}function corregirTexto2(){var e=formElement.elements[1].value;e==textoSecreto2?(darRespuestaHtml("Pregunta 2: Correcta"),nota+=1):darRespuestaHtml("Pregunta 2: Incorrecta")}function corregirSelect1(){var e=formElement.elements[2];e.selectedIndex-1==respuestaSelect1?(darRespuestaHtml("Pregunta 3: Correcta"),nota+=1):darRespuestaHtml("Pregunta 3: Incorrecta")}function corregirSelect2(){var e=formElement.elements[3];e.selectedIndex-1==respuestaSelect2?(darRespuestaHtml("Pregunta 4: Correcta"),nota+=1):darRespuestaHtml("Pregunta 4: Incorrecta")}function corregirCheckbox1(){var e=formElement,t=[];for(i=0;i<e.color1.length;i++)if(e.color1[i].checked){for(t[i]=!1,j=0;j<respuestasCheckbox1.length;j++)i==respuestasCheckbox1[j]&&(t[i]=!0);t[i]?(nota+=1,darRespuestaHtml("Pregunta 7: "+i+" Correcta")):(nota-=.75,darRespuestaHtml("Pregunta 7: "+i+" Incorrecta"))}}function corregirCheckbox2(){var e=formElement,t=[];for(i=0;i<e.color2.length;i++)if(e.color2[i].checked){for(t[i]=!1,j=0;j<respuestasCheckbox2.length;j++)i==respuestasCheckbox2[j]&&(t[i]=!0);t[i]?(nota+=1,darRespuestaHtml("Pregunta 8: "+i+" Correcta")):(nota-=.75,darRespuestaHtml("Pregunta 8: "+i+" Incorrecta"))}}function ponerDatosInputHtml1(e){document.getElementById("pregunta001").innerHTML=e}function ponerDatosInputHtml2(e){document.getElementById("pregunta002").innerHTML=e}function ponerDatosSelectHtml1(e,t){document.getElementById("pregunta003").innerHTML=e;var n=document.getElementsByTagName("select")[0];for(i=0;i<t.length;i++){var r=document.createElement("option");r.text=t[i],r.value=i+1,n.options.add(r)}}function ponerDatosSelectHtml2(e,t){document.getElementById("pregunta004").innerHTML=e;var n=document.getElementsByTagName("select")[1];for(i=0;i<t.length;i++){var r=document.createElement("option");r.text=t[i],r.value=i+1,n.options.add(r)}}function ponerDatosMultiSelectHtml1(e,t){document.getElementById("pregunta005").innerHTML=e;var n=document.getElementsByTagName("select")[2];for(i=0;i<t.length;i++){var r=document.createElement("option");r.text=t[i],r.value=i+1,n.options.add(r)}}function ponerDatosMultiSelectHtml2(e,t){document.getElementById("pregunta006").innerHTML=e;var n=document.getElementsByTagName("select")[3];for(i=0;i<t.length;i++){var r=document.createElement("option");r.text=t[i],r.value=i+1,n.options.add(r)}}function ponerDatosCheckboxHtml1(e,t){var n=document.getElementById("checkboxDiv1");for(document.getElementById("pregunta007").innerHTML=e,i=0;i<t.length;i++){var r=document.createElement("input"),a=document.createElement("label");a.innerHTML=t[i],a.setAttribute("for","color1_"+i),r.type="checkbox",r.name="color1",r.id="color1_"+i,n.appendChild(r),n.appendChild(a),n.appendChild(document.createElement("br"))}}function ponerDatosCheckboxHtml2(e,t){var n=document.getElementById("checkboxDiv2");for(document.getElementById("pregunta008").innerHTML=e,i=0;i<t.length;i++){var r=document.createElement("input"),a=document.createElement("label");a.innerHTML=t[i],a.setAttribute("for","color2_"+i),r.type="checkbox",r.name="color2",r.id="color2_"+i,n.appendChild(r),n.appendChild(a),n.appendChild(document.createElement("br"))}}function ponerDatosRadioHtml1(e,t){var n=document.getElementById("radioDiv1");for(document.getElementById("pregunta009").innerHTML=e,i=0;i<t.length;i++){var r=document.createElement("input"),a=document.createElement("label");a.innerHTML=t[i],a.setAttribute("for","color_"+i),r.type="radio",r.name="color",r.id="color_"+i,n.appendChild(r),n.appendChild(a),n.appendChild(document.createElement("br"))}}function ponerDatosRadioHtml2(e,t){var n=document.getElementById("radioDiv2");for(document.getElementById("pregunta010").innerHTML=e,i=0;i<t.length;i++){var r=document.createElement("input"),a=document.createElement("label");a.innerHTML=t[i],a.setAttribute("for","color_"+i),r.type="radio",r.name="color",r.id="color_"+i,n.appendChild(r),n.appendChild(a),n.appendChild(document.createElement("br"))}}function darRespuestaHtml(e){var t=document.createElement("p"),n=document.createTextNode(e);t.appendChild(n),document.getElementById("resultadosDiv").appendChild(t)}function presentarNota(){darRespuestaHtml("Nota: "+nota+" puntos sobre 10")}function inicializar(){document.getElementById("resultadosDiv").innerHTML="",nota=0}function comprobar(){var e=formElement,t=!1;for(i=0;i<e.color1.length;i++)e.color1[i].checked&&(t=!0);for(i=0;i<e.color2.length;i++)e.color2[i].checked&&(t=!0);return""==e.elements[0].value?(e.elements[0].focus(),alert("Responde todas las preguntas antes de corregir"),!1):""==e.elements[1].value?(e.elements[1].focus(),alert("Responde todas las preguntas antes de corregir"),!1):0==e.elements[2].selectedIndex?(e.elements[2].focus(),alert("Responde todas las preguntas antes de corregir"),!1):0==e.elements[3].selectedIndex?(e.elements[3].focus(),alert("Responde todas las preguntas antes de corregir"),!1):t?t?!0:(document.getElementsByTagName("h4")[7].focus(),alert("Responde todas las preguntas antes de corregir"),!1):(document.getElementsByTagName("h4")[6].focus(),alert("Responde todas las preguntas antes de corregir"),!1)}var formElement=null,textoSecreto1=null,textoSecreto2=null,respuestaSelect1=null,respuestaSelect2=null,respuestaMultiSelect1=[],respuestaMultiSelect2=[],respuestasCheckbox1=[],respuestasCheckbox2=[],respuestasRadio1=[],respuestasRadio2=[],nota=0;window.onload=function(){formElement=document.getElementById("myform"),formElement.onsubmit=function(){return inicializar(),comprobar()&&(corregirTexto1(),corregirTexto2(),corregirSelect1(),corregirSelect2(),corregirCheckbox1(),corregirCheckbox2(),presentarNota()),!1};var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&gestionarXml(this)},e.open("GET","https://rawgit.com/ervulgaro/FormularioXML/master/xml/preguntas%20.xml",!0),e.send()};
